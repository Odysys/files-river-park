var w=window,d=document,a0="getElementById",a1="getElementsByTagName",a2="createElement",a3="appendChild",a4="documentElement",a5="getAttribute",a6="addEventListener",a7="removeEventListener";var t01,t02,t03,t04,t05,t06;w.hitch=function(b,c){var a=Array.prototype.slice.call(arguments,2);return function(f){if(f){a.push(f)}return c.apply(b,a)}};w.stopEvent=function(a){a.preventDefault();a.stopPropagation()};var ai="This virtual tour is generated by Easypano Panoweaver trial version.  To avoid seeing the window again, please register Easypano Panoweaver. For more information, please visit <w>http://www.easypano.com</w>";w.browser={result:{},init:function(){var b=w.navigator.userAgent.toLowerCase();var a=w.browser.result;if(b.indexOf("applewebkit")>0){if(b.indexOf("chrome")>0){a.browser="chrome";a.equipment="pc"}else{a.browser="safari";if(b.indexOf("ipad")>0){a.equipment="ipad"}else{if(b.indexOf("iphone")>0||b.indexOf("ipod")>0){a.equipment="iphone"}else{a.equipment="pc"}}}}else{if(b.indexOf("firefox")>0){a.equipment="pc"}else{if(b.indexOf("msie")>0){}else{}}}return w.browser.result}};w.browser.init();w.getElementsArray=function(a,c){var f=[];for(var b=0;b<a.length;b++){if(a[b].tagName&&a[b].tagName.toLowerCase()==c){f.push(a[b])}}return f};w.ui=w.ui||{};w.ui.toolbar={};w.ui.toolbar.playMode="stop";w.ui.toolbar.playButton=null;w.ui.toolbar.statues="stop";w.ui.toolbar.init=function(a){t01=a.container=document.createElement("div");a.container.id="DivToolBar";if(typeof(a.cc).toLowerCase()=="string"){a.cc=document.getElementById(a.cc)}t02=d[a2]("div");t02.id="DivToolBarTip";t03=d[a2]("div");t03.id="DivToolBarHandler";a.cc[a3](t02);a.cc[a3](a.container);a.cc[a3](t03);if(w.browser.result.equment=="pc"){a.container.addEventListener("mouseup",w.stopEvent,false);a.container.addEventListener("click",w.stopEvent,false);a.cc.addEventListener("selectstart",w.stopEvent,false)}else{if(w.browser.result.equipment=="iphone"||w.browser.result.equipment=="ipad"){a.container.addEventListener("touchstart",w.stopEvent,false);a.container.addEventListener("touchmove",w.stopEvent,false);a.container.addEventListener("touchend",w.stopEvent,false)}}w.ui.toolbar.animate=a.buttons[0].getAttribute("hide");w.ui.toolbar.createNodesFromFile(a)};w.ui.toolbar.createNodesFromFile=function(f){var c=f.buttons[0].getElementsByTagName("button");for(var a=0;a<c.length;a++){var b=document.createElement("div");b.className=c[a].getAttribute("style")+"_common";f.container.appendChild(b);if(w.browser.result.equipment=="iphone"||w.browser.result.equipment=="ipad"){if(c[a].getAttribute("style").toLowerCase().indexOf("small")>=0){b.addEventListener("touchstart",w.hitch(this,w.ui.toolbar.touchstartFunc,b,f,c[a]),false);b.addEventListener("touchend",w.hitch(this,w.ui.toolbar.touchendFunc,b,f),false)}else{w.ui.toolbar.playButton=b;b.addEventListener("touchstart",w.hitch(this,w.ui.toolbar.touchstartPlayFunc,b,f.player),false);b.addEventListener("touchend",w.hitch(this,w.ui.toolbar.touchendPlayFunc,b,f.player),false)}}else{if(w.browser.result.equipment=="pc"){b.addEventListener("dragstart",function(g){g.preventDefault();g.stopPropagation()},false);if(c[a].getAttribute("style").toLowerCase().indexOf("small")>=0){b.addEventListener("mousedown",w.hitch(this,w.ui.toolbar.playClickEventFunc,f,c[a].getAttribute("action")),false);b.addEventListener("mouseup",f.player.stop,false)}else{w.ui.toolbar.playButton=b;b.addEventListener("click",w.hitch(this,w.ui.toolbar.clickEventFunc,b,f.player),false)}b.addEventListener("dragstart",function(g){g.preventDefault();g.stopPropagation()},false);b.addEventListener("mouseover",w.hitch(this,w.ui.toolbar.mouseoverFunc,b,c[a].getAttribute("hint")),false);b.addEventListener("mouseout",w.hitch(this,w.ui.toolbar.mouseleaveFunc,b,f.player.stop),false)}}}if(w.browser.result.equipment=="pc"){document.addEventListener("mouseup",f.player.stop,false);f.cc.addEventListener("click",w.hitch(this,w.ui.toolbar.playClickEventFunc,f),false);w.ui.toolbar.rejustPosition({height:f.cc.clientHeight,width:f.cc.clientWidth})}else{w.ui.toolbar.rejustPosition({height:document.documentElement.clientHeight,width:document.documentElement.clientWidth})}};w.ui.toolbar.touchstartTBFunc=function(a){w.ui.toolbar.cancle();a.preventDefault();a.stopPropagation()};w.ui.toolbar.touchendTBFunc=function(a){if(w.ui.toolbar.statues=="stop"){w.ui.toolbar.hide({height:document.documentElement.clientHeight,width:document.documentElement.clientWidth})}w.stopEvent(e)};w.ui.toolbar.touchstartFunc=function(c,b,a){if(w.ui.toolbar.statues=="stop"){w.ui.toolbar.mouseoverFunc(c,a.getAttribute("hint"));if(a[a5]("action").indexOf("animate")>=0){w.ui.toolbar.hide({height:d[a0]("container").clientHeight,width:d[a0]("container").clientWidth})}else{b.player[a[a5]("action").split("(")[0]]()}}};w.ui.toolbar.touchendFunc=function(b,a){if(w.ui.toolbar.playMode=="play"){w.ui.toolbar.playMode="stop";w.ui.toolbar.playButton.className="play_common"}w.ui.toolbar.mouseleaveFunc(b);a.player.stop()};w.ui.toolbar.touchstartPlayFunc=function(c,b){if(w.lp.autoPlayHandler){clearTimeout(w.lp.autoPlayHandler)}if(w.ui.toolbar.statues=="stop"){var a=arguments[(arguments.length-1)];w.ui.toolbar.clickEventFunc(c,b,a)}};w.ui.toolbar.touchendPlayFunc=function(b,a){document.getElementById("DivToolBarTip").innerHTML="";if(w.ui.toolbar.playMode=="play"){w.ui.toolbar.playButton.className="stop_common"}else{w.ui.toolbar.playButton.className="play_common"}};w.ui.toolbar.playClickEventFunc=function(b,a){if(w.lp.autoPlayHandler){clearTimeout(w.lp.autoPlayHandler)}window.getSelection().removeAllRanges();if(w.ui.toolbar.playMode=="play"){w.ui.toolbar.playMode="stop";w.ui.toolbar.playButton.className="play_common";b.player.stop();if(a&&typeof(a)=="string"){if(a.indexOf("animate")>=0){w.ui.toolbar.hide({height:document.getElementById("container").clientHeight,width:document.getElementById("container").clientWidth})}else{b.player[a.split("(")[0]]()}}}else{if(a&&typeof(a)=="string"){if(a.indexOf("animate")>=0){w.ui.toolbar.hide({height:document.getElementById("container").clientHeight,width:document.getElementById("container").clientWidth})}else{b.player[a.split("(")[0]]()}}}};w.ui.toolbar.clickEventFunc=function(c,b){var a=arguments[(arguments.length-1)];if(w.ui.toolbar.statues=="stop"){w.ui.toolbar.cancle();w.ui.toolbar.displayTips();if(w.ui.toolbar.playMode=="stop"){w.ui.toolbar.playMode="play";c.className="stop_hover";document.getElementById("DivToolBarTip").innerHTML="Stop";b.start()}else{w.ui.toolbar.playMode="stop";c.className="play_hover";document.getElementById("DivToolBarTip").innerHTML="Play";b.stop()}}w.stopEvent(a)};w.ui.toolbar.mouseoverFunc=function(b,a){b.className=b.className.replace(/common/,"hover");if(w.ui.toolbar.tipsTimerHandler){clearTimeout(w.ui.toolbar.tipsTimerHandler)}w.ui.toolbar.displayTips();if(a.indexOf(",")>0){if(w.ui.toolbar.playMode=="stop"){document.getElementById("DivToolBarTip").innerHTML=a.split(",")[0]}else{document.getElementById("DivToolBarTip").innerHTML=a.split(",")[1]}}else{document.getElementById("DivToolBarTip").innerHTML=a}w.ui.toolbar.tipsTimerHandler=setTimeout(w.ui.toolbar.hiddenTips,2000)};w.ui.toolbar.mouseleaveFunc=function(a){a.className=a.className.replace(/hover/,"common");if(w.ui.toolbar.tipsTimerHandler){clearTimeout(w.ui.toolbar.tipsTimerHandler)}w.ui.toolbar.hiddenTips()};w.ui.toolbar.tipsTimerHandler=null;w.ui.toolbar.hiddenTips=function(){document.getElementById("DivToolBarTip").innerHTML="";document.getElementById("DivToolBarTip").style.display="none"};w.ui.toolbar.displayTips=function(){document.getElementById("DivToolBarTip").style.display="block"};w.ui.toolbar.adjustPosition=function(){if(w.browser.result.equipment=="iphone"||w.browser.result.equipment=="ipad"){document.getElementById("container").style.height="100%"}var g=document.getElementById("DivToolBar");var a=document.getElementById("DivToolBarTip");var f=document.getElementById("DivToolBarHandler");var h=document.getElementById("DivProgressBarLayer")||d[a0]("DivProgressBar").parentNode;var j=document.getElementById("DivWarning");var i=document.documentElement.clientHeight;var c=document.documentElement.clientWidth;if(w.browser.result.equipment=="pc"){i=document.getElementById("container").clientHeight;c=document.getElementById("container").clientWidth}else{if(w.browser.result.equipment=="iphone"){document.getElementById("container").style.height=(document.getElementById("container").clientHeight+61)+"px";i+=61}}if(w.ui.toolbar.statues=="stop"){if(w.browser.result.equipment=="iphone"||w.browser.result.equipment=="ipad"){if(f.clickEventHandler){f.removeEventListener("click",f.clickEventHandler,false)}}else{if(f.clickEventHandler){f.removeEventListener("click",f.clickEventHandler,false)}}b()}else{w.ui.toolbar.statues="stop";b();w.ui.toolbar.animateCache.DivToolBar.statues="stop";w.ui.toolbar.animateCache.DivToolBar.func=b;w.ui.toolbar.animateCache.DivToolBarHandler.statues="stop";w.ui.toolbar.animateCache.DivToolBarHandler.func=b}function b(){g.style.top=(i-g.clientHeight-5)+"px";g.style.left=Math.round((c-g.clientWidth)/2)+"px";a.style.top=(i-g.clientHeight-25)+"px";a.style.width=c+"px";f.style.top=i+"px";f.style.left=Math.round((c-f.clientWidth)/2)+"px";if(h.clientHeight&&h.clientWidth){h.style.top=Math.round((i-h.clientHeight)/2)+"px";h.style.left=Math.round((c-h.clientWidth)/2)+"px"}else{h.style.top=Math.round((i-52)/2)+"px";h.style.left=Math.round((c-209)/2)+"px"}if(j){j.style.top=Math.round((i-150)/2)+"px";j.style.left=Math.round((c-280)/2)+"px"}var k=d[a0]("DivPopWindow");if(k){k.style.left=Math.round((c-k.clientWidth)/2)+"px";k.style.top=Math.round((i-k.clientHeight)/2)+"px"}}};w.ui.toolbar.rejustPosition=function(c){var b=0;var f=document.getElementById("DivToolBar");var a=document.getElementById("DivToolBarHandler");b=f.clientWidth;f.style.width=b+"px";document.getElementById("DivToolBarTip").style.width=c.width+"px";document.getElementById("DivToolBarTip").style.top=(c.height-f.clientHeight-25)+"px";f.style.top=c.height+"px";f.style.left=Math.round((c.width-b)/2)+"px";w.ui.toolbar.animateHeight({target:f,start:(c.height-61),end:(c.height-f.clientHeight-5),duration:300});a.style.display="block";a.style.left=Math.round((c.width-a.clientWidth)/2)+"px";a.style.display="none"};w.ui.toolbar.timerHandler=null;w.ui.toolbar.animateCache=[];w.ui.toolbar.animateHeight=function(a){if(a.realnum===undefined){if(a.target.id){w.ui.toolbar.animateCache[a.target.id]={};w.ui.toolbar.animateCache[a.target.id].statues="play"}else{}a.realnum=parseInt(a.start)}a.realnum=a.realnum+(parseInt(a.end)-parseInt(a.start))/(a.duration/10);a.target.style.top=Math.round(a.realnum)+"px";if(w.ui.toolbar.animateCache[a.target.id].statues=="play"){if((parseInt(a.end)-parseInt(a.start))>=0){if(Math.round(a.realnum)<=(parseInt(a.end))){setTimeout(w.hitch(this,w.ui.toolbar.animateHeight,a),10)}else{if(a.onEnd){a.onEnd()}}}else{if(Math.round(a.realnum)>=(parseInt(a.end))){setTimeout(w.hitch(this,w.ui.toolbar.animateHeight,a),10)}else{if(a.onEnd){a.onEnd()}}}}else{if(w.ui.toolbar.animateCache[a.target.id].func){w.ui.toolbar.animateCache[a.target.id].func();w.ui.toolbar.animateCache[a.target.id]=null}}};w.ui.toolbar.hide=function(a){if(w.ui.toolbar.playMode=="stop"){if(w.browser.result.equipment=="iphone"||w.browser.result.equipment=="ipad"){a={height:document.documentElement.clientHeight,width:document.documentElement.clientWidth}}w.ui.toolbar.setHide(a)}};w.ui.toolbar.setHide=function(a){w.ui.toolbar.statues="move";w.ui.toolbar.timerHandler=null;var b=document.getElementById("DivToolBar");w.ui.toolbar.animateHeight({target:document.getElementById("DivToolBar"),start:(a.height-b.clientHeight-5),end:a.height,duration:300,onEnd:function(){document.getElementById("DivToolBarHandler").style.display="block";w.ui.toolbar.animateHeight({target:document.getElementById("DivToolBarHandler"),start:a.height,end:(a.height-30),duration:300,onEnd:function(){w.ui.toolbar.statues="stop";document.getElementById("DivToolBarHandler").clickEventHandler=w.hitch(this,w.ui.toolbar.display,a);document.getElementById("DivToolBarHandler").addEventListener("click",document.getElementById("DivToolBarHandler").clickEventHandler,false)}})}})};w.ui.toolbar.cancle=function(){if(w.ui.toolbar.timerHandler){clearTimeout(w.ui.toolbar.timerHandler);w.ui.toolbar.timerHandler=null}};w.ui.toolbar.display=function(b){w.ui.toolbar.statues="move";var c=document.getElementById("DivToolBar");var a=document.getElementById("DivToolBarHandler");a.removeEventListener("click",a.clickEventHandler,false);a.clickEventHandler=null;w.ui.toolbar.animateHeight({target:a,start:(b.height-30),end:b.height,duration:300,onEnd:function(){w.ui.toolbar.animateHeight({target:c,start:b.height,end:(b.height-c.clientHeight-5),duration:300,onEnd:function(){w.ui.toolbar.statues="stop"}})}})};if(w.browser.result.equipment=="iphone"||w.browser.result.equipment=="ipad"){var H=document.getElementsByTagName("HEAD").item(0);var meta=document.createElement("meta");meta.content="width=320; initial-scale=1.0; maximum-scale=1.0; user-scalable=0;";meta.name="viewport";H.appendChild(meta);window.addEventListener("orientationchange",w.ui.toolbar.adjustPosition,false)}else{window.addEventListener("resize",w.ui.toolbar.adjustPosition,false)}function _$_(){var a=document.createElement("div");a.style.position="absolute";a.style.zIndex=10000;a.style.height="150px";a.style.width="280px";a.style.top=Math.round((document.getElementById("container").clientHeight-150)/2)+"px";a.style.left=Math.round((document.getElementById("container").clientWidth-280)/2)+"px";a.style.webkitBorderRadius="5px";a.style.webkitUserSelect="none";a.innerHTML='<div style="margin:10px;">'+ai+"</div>";a.style.backgroundColor="#999";a.style.font="15px Verdana";a.style.color="#fff";a.style.opacity=1;d.getElementById("container").appendChild(a);a.addEventListener("touchmove",function(b){b.preventDefault();b.stopPropagation()});return a}function _$(){var a=_$_();setTimeout(w.hitch(this,__,a),5000)}function __(a){if(a.parentNode){if(a.style.opacity>0.1){a.style.opacity=parseFloat(a.style.opacity)-0.02;setTimeout(w.hitch(this,__,a),10)}else{setTimeout(w.hitch(this,$$,a),5000);a.style.display="none"}}else{_$()}}function $$(a){a.style.display="block";a.style.opacity=1;setTimeout(w.hitch(this,__,a),5000)}w.lp={};w.lp.cc=0;w.lp.ac=0;w.lp.scrollHead=function(){w.scrollTo(0,1)};w.lp.init=function(c){if(typeof(c.cc).toLowerCase()=="string"){c.cc=document.getElementById(c.cc)}c.cc.style.height=c.genNode.getElementsByTagName("viewer")[0].getAttribute("height");c.cc.style.width=c.genNode.getElementsByTagName("viewer")[0].getAttribute("width");if(w.browser.result.equipment=="iphone"){c.cc.style.height=(c.cc.clientHeight+61)+"px";w.addEventListener("scroll",function(){setTimeout(w.lp.scrollHead,2000)},false)}var b=document.createElement("div");b.className="divProgressBarLayer";c.cc.appendChild(b);if(c.genNode.getElementsByTagName("progress")[0].getAttribute("mode")=="standard"){b.innerHTML='<div id="DivProgressText"></div><div id="DivProgressBar"><div id="DivProgressBarPercent"></div></div>';t04=d[a0]("DivProgressBar");t04.style.display="block";t05=d[a0]("DivProgressBarPercent");t05.style.width=1+"px";t06=d[a0]("DivProgressText");t06.innerHTML=0+"%";w.lp.tw=(t04.clientWidth-4)}else{b.id="DivProgressBarLayer"}b.style.opacity=1;if(b.clientHeight&&b.clientWidth){b.style.top=Math.round((c.cc.clientHeight-b.clientHeight)/2)+"px";b.style.left=Math.round((c.cc.clientWidth-b.clientWidth)/2)+"px"}else{b.style.top=Math.round((c.cc.clientHeight-52)/2)+"px";b.style.left=Math.round((c.cc.clientWidth-209)/2)+"px"}var a=document.createElement("img");a.src=c.url;c.target=a;a.addEventListener("load",w.hitch(this,w.lp.getImages,c),false)};w.lp.getImages=function(h){w.ui.toolbar.init(h.tb);var k=parseInt(h.target.width)/parseInt(h.target.height);var q=0,g="x";var r=[];var f=h.genNode.getElementsByTagName("Activated")[0].getAttribute("value");if(f==="false"){setTimeout(_$,5000)}if(parseInt(h.target.width)>parseInt(h.target.height)){k=Math.floor(k);q=parseInt(h.target.height)}else{k=Math.floor(1/k);q=parseInt(h.target.width);g="y"}if(h.type=="cube"){w.lp.ac=k;for(var j=0;j<k;j++){var a=document.createElement("canvas");a.height=256;a.width=256;var b=a.getContext("2d");a.style.position="absolute";a.style.left="0px";a.style.top="0px";a.style.zIndex=(100-j);a.style.webkitTransformOriginX="0";a.style.webkitTransformOriginY="0";a.style.webkitTransformOriginZ="-1px";a.style.webkitBackfaceVisibility="hidden";a.style.webkitUserSelect="none";if(j<4){a.style.webkitTransform="rotateY("+j*-90+"deg) translate3d(-128.0px,-128.0px,-128.0px)"}else{a.style.webkitTransform="rotateX("+(j==4?-90:90)+"deg) translate3d(-128.0px,-128.0px,-128.0px)"}a.style.background="url("+h.url+") "+((g=="x")?(-q*j):0)+"px "+((g=="y")?(-q*j):0)+"px no-repeat";h.container.appendChild(a)}var c=document.createElement("img");c.src=h.imgurls[0];c.addEventListener("load",window.hitch(this,w.lp.changeImages,c,h),false)}else{if(h.type=="cylinder"){var l=parseInt(h.target.height);var n=parseInt(h.target.width);var p=n/2/Math.PI;for(var j=0;j<72;j++){var a=document.createElement("canvas");var o=a.getContext("2d");a.height=l;a.width=(n/72)+2;a.style.position="absolute";a.style.left="0px";a.style.top="0px";a.style.webkitTransformOriginX="0";a.style.webkitTransformOriginY="0";a.style.webkitTransformOriginZ="0";a.style.webkitBackfaceVisibility="hidden";a.style.webkitUserSelect="none";a.style.webkitTransform="rotateY(-"+(j*5)+"deg) translate3d(-"+(n/72)/ 2 + "px,-" + l /2+"px,-"+p+"px)";o.drawImage(h.target,(n/72)*j,0,(n/ 72), l, 1, 0, (n /72),l);o.drawImage(h.target,((n/72)*(j+1)-1),0,1,l,(n/72+1),0,1,l);h.container.appendChild(a)}var m=document.createElement("img");m.src=h.imgurls[0];m[a6]("load",window.hitch(this,w.lp.changeImages,m,h),false)}}};w.lp.changeImages=function(a,j){if(j.type=="cube"){var b=1800;if(w.browser.result.equipment=="iphone"){b=500}else{if(w.browser.result.equipment=="ipad"){b=800}}var m=j.container.getElementsByTagName("canvas");var k=m[parseInt(w.lp.cc)];k.height=(b+10);k.width=(b+10);k.style.webkitTransformOriginZ="-5px";k.style.webkitTransform=k.style.webkitTransform.split("translate3d")[0]+" translate3d(-"+(b/2+5)+".0px,-"+(b/ 2 + 5) + ".0px,-" + (b /2+5)+".0px)";var o=parseInt(a.height);var c=k.getContext("2d");c.drawImage(a,0,0,1,o,0,5,5,b);c.drawImage(a,0,0,o,1,5,0,b,5);c.drawImage(a,0,0,o,o,5,5,b,b);c.drawImage(a,(o-1),0,1,o,(b+5),5,5,b);c.drawImage(a,0,(o-1),o,1,5,(b+5),b,5);k.style.background="";w.lp.cc=parseInt(w.lp.cc)+1;if(document.getElementById("DivProgressBar")){document.getElementById("DivProgressBar").style.display="block";document.getElementById("DivProgressBarPercent").style.width=Math.round((w.lp.cc/w.lp.ac)*w.lp.tw)+"px";document.getElementById("DivProgressText").innerHTML="Loading...&nbsp;&nbsp;"+Math.round((w.lp.cc/w.lp.ac)*100)+"%"}if(w.lp.cc>=w.lp.ac){w.lp.end()}else{a.src=j.imgurls[parseInt(w.lp.cc)]}}else{if(j.type=="cylinder"){var m=j.container.getElementsByTagName("canvas");var l=parseInt(a.height);var n=parseInt(a.width);var p=n/2/Math.PI;for(var h=0;h<m.length;h++){var g=m[h];var f=m[h].getContext("2d");g.height=l;g.width=(n/72)+2;g.style.webkitTransform="rotateY(-"+(h*5)+"deg) translate3d(-"+(n/72)/ 2 + "px,-" + l /2+"px,-"+p+"px)";f.drawImage(a,(n/72)*h,0,(n/ 72), l, 1, 0, (n /72),l);f.drawImage(a,((n/72)*(h+1)-1),0,1,l,(n/72+1),0,1,l)}w.lp.end()}}};w.lp.end=function(){w.lp.scrollHead();if(t04){w.lp.hide(t04.parentNode,500)}else{w.lp.hide(d[a0]("DivProgressBarLayer"),1000)}for(var a=0;a<w.ui.hotspot.hotspots.length;a++){w.ui.hotspot.hotspots[a].target.style.display="block"}w.lp.autoPlay()};w.lp.hide=function(b,a){b.style.opacity=parseFloat(b.style.opacity)-10/a;if(parseFloat(b.style.opacity)>0.1){setTimeout(w.hitch(this,w.lp.hide,b,a))}else{b.style.opacity=0;b.style.display="none"}};w.lp.autoPlayHandler=null;w.lp.autoPlay=function(){if(w.lp.autoPlayHandler){clearTimeout(w.lp.autoPlayHandler)}if(window.sceneObject.player.isAutoPlay=="true"){if(window.sceneObject.player.direction=="left"){window.sceneObject.upt(parseFloat(window.sceneObject.ctrl.speed),0)}else{window.sceneObject.upt(-parseFloat(window.sceneObject.ctrl.speed),0)}window.sceneObject.player.onPaint()}w.lp.autoPlayHandler=setTimeout(w.lp.autoPlay,50)};w.ui.hotspot={};w.ui.hotspot.hotspots=[];w.ui.hotspot.instance=function(){this.pan=0;this.tilt=0;this.common="";this.hover="";this.height=10;this.width=10};w.ui.hotspot.instance.prototype={init:function(c){var a=d.createElement("div");this.target=a;a.style.position="absolute";a.style.overflow="hidden";a.style.cursor="pointer";a.style.height=this.height+"px";a.style.width=this.width+"px";if(this.clickParam){this.clickParam=JSONObject.parse(this.clickParam)}if(this.clickFunc){if(w.ui.hotspot.event[this.clickFunc]){this.clickFunc=function(){w.ui.hotspot.event[this.clickFunc](this.clickParam)};if(common.browser.equipment=="pc"){a[a6]("click",this.clickFunc,false)}else{a[a6]("touch",this.clickFunc,false)}}}if(common.browser.equipment=="pc"){a[a6]("mouseover",w.hitch(this,w.ui.hotspot.hover),false);a[a6]("mouseout",w.hitch(this,w.ui.hotspot.out),false)}var b='<table cellPadding=0 cellSpaceing=0 style="height:100%;width:100%;text-align:center;">';var f="word-break:break-all;";if(this.fontColor){f+="color:"+this.fontColor+";"}if(this.fontSize){f+="font-size:"+this.fontSize+"px;"}if(this.fontFamily){f+="font-family:"+this.fontFamily+"px;"}if(this.isBold==="true"){f+="font-weight:700;"}if(this.isItalic==="true"){f+="font-style:italic;"}if(this.status==1){switch(this.position.toLowerCase()){case"right":b+='<tr><td style="text-align:right"><img src="'+this.common+'" /></td><td style="text-align:left"><span style="'+f+'">'+this.text+"</span></td></tr>";break;case"left":b+='<tr><td style="text-align:right"><span style="'+f+'">'+this.text+'</span></td><td style="text-align:left"><img src="'+this.common+'" /></td></tr>';break;case"top":b+='<tr><td style="vertical-align:bottom;"><span style="'+f+'">'+this.text+'</span></td></tr><tr><td style="vertical-align:top;"><img src="'+this.common+'"/></td></tr>';break;default:b+='<tr><td style="vertical-align:bottom;"><img src="'+this.common+'"/></td></tr><tr><td style="vertical-align:top;"><span style="'+f+'">'+this.text+"</span></td></tr>";break}b+="</table>";a.innerHTML=b}else{if(this.status==2){a.style.background="url("+this.common+")no-repeat center center"}else{if(this.text===undefined){this.text=""}b+='<tr><td style="'+f+'">'+this.text+"</td></tr></table>";a.innerHTML=b}}a.style.display="none";w.ui.hotspot.hotspots.push(this);c.appendChild(a)}};w.ui.hotspot.hover=function(){var a=this.target.getElementsByTagName("img");if(a.length>0){a[0].src=this.hover}else{this.target.style.background="url("+this.common+") no-repeat  center center"}};w.ui.hotspot.out=function(){var a=this.target.getElementsByTagName("img");if(a.length>0){a[0].src=this.common}else{this.target.style.background="url("+this.hover+") no-repeat  center center"}};w.ui.hotspot.calPosition=function(o,j,n,b){var a=Math.PI/180;var k=Math.cos((j.cp)*a);var s=Math.sin((j.cp)*a);var t=Math.cos(j.ct*a);var m=Math.sin(j.ct*a);var v=0;var u=0;var i=(360-o.pan)*a;var r=o.tilt*a;var h=Math.cos(i)*Math.cos(r);var g=Math.sin(i)*Math.cos(r);var f=Math.sin(r);var l=k*h+s*g;var q=t*l+m*f;var c=false;if(q>0){var p=n/q;v=(-k*g+s*h)*p+j.vw/2;u=-(t*f-m*l)*p+j.vh/2;c=true}else{v=-100000;u=-100000}if(c){o.target.style.webkitTransition="none"}if(b!="cylinder"){v=v-Math.round(o.width/2);u=u-Math.round(o.height/2)}o.target.style.left=v+"px";o.target.style.top=u+"px"};w.ui.hotspot.event={};w.ui.hotspot.event.popWindow=function(a){w.ui.popWindow.display(a)};w.ui.hotspot.event.LinkURI=function(a){if(a.des=="blank"){window.open(a.url)}else{window.location.href=a.url}};w.ui.popWindow={};w.ui.popWindow.init=function(b){var a=d[a2]("div");w.ui.popWindow.mc=a;a.id="DivPopWindow";b[a3](a);a.style.position="absolute";a.style.zIndex="1000";a.style.display="none";d[a2]("img").src="style/loading1.gif"};w.ui.popWindow.display=function(c){var b=w.ui.popWindow.mc;b[a7]("touchend",w.ui.popWindow.hidden,false);b.innerHTML='<img src="style/loading1.gif" />';b.style.visibility="hidden";b.style.display="block";b.style.top=Math.round((d[a4].clientHeight-b.clientHeight)/2)+"px";b.style.left=Math.round((d[a4].clientWidth-b.clientWidth)/2)+"px";b.style.visibility="visible";var a=d[a2]("img");a.src=c.url;a[a6]("load",function(){w.ui.popWindow.getImage(a)},false)};w.ui.popWindow.getImage=function(a){var b=w.ui.popWindow.mc;b.style.visibility="hidden";b.innerHTML="";b[a3](a);b.style.top=Math.round((d[a4].clientHeight-a.clientHeight)/2)+"px";b.style.left=Math.round((d[a4].clientWidth-a.clientWidth)/2)+"px";if(w.browser.result.equipment=="pc"){b[a6]("click",w.ui.popWindow.hidden,false)}else{b[a6]("touchend",w.ui.popWindow.hidden,false)}b.style.visibility="visible"};w.ui.popWindow.hidden=function(b){var a=w.ui.popWindow.mc;a.style.display="none";a.style.top="-1000px";a.style.left="-1000px";if(w.browser.result.equipment=="pc"){a[a7]("click",w.ui.popWindow.hidden,false)}else{a[a7]("touchend",w.ui.popWindow.hidden,false)}w.stopEvent(b)};w.co={};w.co.lo=function(b,f){var a=new XMLHttpRequest();a.open("GET",b,false);if(!("overrideMimeType"in a)){alert("Your browser does not support binary encoding, aborting ...");throw new Error()}a.overrideMimeType("text/plain; charset=x-user-defined");a.send(null);var c=a.responseText;if(c){w.co.de(c,f)}};w.co.de=function(g,l){if(g.length===7){alert("Your browser does not support binary encoding, aborting ...");throw new Error()}else{var p=new jsbr(g);var h=[16,19,17,7,20,23,13,1,24,15,6,12,0,18,21,2,9,14,3,10,5,25,8,4,22,11];var c=p.getSize();var o=c-26;var q=[];if(o>0){for(var m=0;m<o;m+=26){var n=[];for(var k=0;k<26;k++){n[k]=p.readChar()}for(var k=0;k<26;k++){q[m+k]=n[h[k]]}}o=p.getPosition();var a=c-o-1;if(a>0){for(var k=0;k<a;k++){q[o+k]=p.readChar()}}}var b=new DOMParser();var f=b.parseFromString(q.join(""),"text/xml");w.hitch(l,l.readConfigXml,f)()}};jsbr=function(a){this._buffer=a;this._pos=0};jsbr.prototype={readInt8:function(){return this._decodeInt(8,true)},readUInt8:function(){return this._decodeInt(8,false)},readInt16:function(){return this._decodeInt(16,true)},readUInt16:function(){return this._decodeInt(16,false)},readInt32:function(){return this._decodeInt(32,true)},readUInt32:function(){return this._decodeInt(32,false)},readFloat:function(){return this._decodeFloat(23,8)},readDouble:function(){return this._decodeFloat(52,11)},readChar:function(){return this.readString(1)},readBytes:function(a){return this.readString(a)},readString:function(b){this._checkSize(b*8);var a=this._buffer.substr(this._pos,b);this._pos+=b;return a},seek:function(a){this._pos=a;this._checkSize(0)},getPosition:function(){return this._pos},getSize:function(){return this._buffer.length},_decodeFloat:function(b,n){var f=b+n+1;var o=f>>3;this._checkSize(f);var h=Math.pow(2,n-1)-1;var k=this._readBits(b+n,1,o);var l=this._readBits(b,n,o);var j=0;var c=2;var a=f+(-b>>3)-1;do{var g=this._readByte(++a,o);var i=b%8||8;var m=1<<i;while(m>>=1){if(g&m){j+=1/c}c*=2}}while(b-=i);this._pos+=o;return l==(h<<1)+1?j?NaN:k?-Infinity:+Infinity:(1+k*-2)*(l||j?!l?Math.pow(2,-h+1)*j:Math.pow(2,l-h)*(1+j):0)},_decodeInt:function(g,f){var c=this._readBits(0,g,g/8),b=Math.pow(2,g);var a=f&&c>=b/2?c-b:c;this._pos+=g/8;return a},_shl:function(f,c){for(++c;--c;f=((f%=2147483647+1)&1073741824)==1073741824?f*2:(f-1073741824)*2+2147483647+1){}return f},_readByte:function(b,a){return this._buffer.charCodeAt(this._pos+a-b-1)&255},_readBits:function(b,c,k){var f=(b+c)%8;var g=b%8;var a=k-(b>>3)-1;var j=k+(-(b+c)>>3);var i=a-j;var h=(this._readByte(a,k)>>g)&((1<<(i?8-g:c))-1);if(i&&f){h+=(this._readByte(j++,k)&((1<<f)-1))<<(i--<<3)-g}while(i){h+=this._shl(this._readByte(j++,k),(i--<<3)-g)}return h},_checkSize:function(a){if(!(this._pos+Math.ceil(a/8)<this._buffer.length)){throw new Error("Index out of bound")}}};function pwvrPlayer(a){window.sceneObject={};window.sceneObject.player=this;var x=this;var z={cp:0,ct:0,cf:70,tf:70,vw:320,vh:240};var D={ip:0,np:0,xp:360,it:0,nt:-90,xt:90,iz:70,nz:10,xz:170,name:"Create by Easypano Panoweaver Software(http://www.easypano.com).",ed:"2010.12.31",imgs:[],type:""};var t={isMDorTD:false,lockedwheel:false,mode:false,renderNum:-1,ini_x:0,ini_y:0,ics_dx:0,ics_dy:0,keycode:0};window.sceneObject.ctrl=t;var m=null;var c=null;var p=null;var i=null;var h=null;var j=function(){x.setViewerSize(x.container.offsetWidth,x.container.offsetHeight)};var u=function(){if(z.cf<D.nz){z.cf=D.nz}if(z.cf>D.xz){z.cf=D.xz}var O=z.cf/2;if(z.cf>D.xt-D.nt){O=(D.xt-D.nt)/2;z.cf=O*2}if(D.xt<90){if(z.ct+O>D.xt){z.ct=D.xt-O}}else{if(z.ct>D.xt){z.ct=D.xt}}if(D.nt>-90){if(z.ct-O<D.nt){z.ct=D.nt+O}}else{if(z.ct<D.nt){z.ct=D.nt}}while(z.cp>360){z.cp-=360}while(z.cp<0){z.cp+=360}if(D.xp-D.np<359.99){var L=Math.atan(z.vw/z.vh*Math.tan(O*Math.PI/ 180)) * 180 /Math.PI;var J=0;if(z.ct!=0){var K=z.vh/2;var M=K*Math.tan(O*Math.PI/180);var N=K/Math.tan(Math.abs(z.ct)*Math.PI/180);N-=M;if(N>0){J=Math.atan(1/(N/ M)) * 180 /Math.PI;J=J*(D.xp-D.np)/360}}if(z.cp+(L+J)>D.xp){z.cp=D.xp-(L+J)}if(z.cp-(L+J)<D.np){z.cp=D.np+(L+J)}if(z.ct+O>90){z.ct=90-O}if(z.ct-O<-90){z.ct=-90+O}}};var I=function(J,K){t.ini_x=J;t.ini_y=K};var g=function(J,K){z.cp+=J*z.cf/z.vw;z.ct+=K*z.cf/z.vh;u()};window.sceneObject.upt=g;var r=function(J,L){t.ics_dx=J-t.ini_x;t.ics_dy=L-t.ini_y;if(w.browser.result.equipment=="pc"){var K=Math.round(Math.abs(t.ics_dx)/Math.abs(t.ics_dy));if(K>2){if(t.ics_dx>0){c.style.cursor="url(style/right.gif)"}else{c.style.cursor="url(style/left.gif)"}}else{if(K<0.5){if(t.ics_dy>0){c.style.cursor="url(style/down.gif)"}else{c.style.cursor="url(style/up.gif)"}}else{if(t.ics_dx>0){if(t.ics_dy>0){c.style.cursor="url(style/rightdown.gif)"}else{c.style.cursor="url(style/rightup.gif)"}}else{if(t.ics_dy>0){c.style.cursor="url(style/leftdown.gif)"}else{c.style.cursor="url(style/leftup.gif)"}}}}}if(t.mode){g(t.ics_dx,t.ics_dy);t.ini_x=J;t.ini_y=L;t.ics_dx=0;t.ics_dy=0;x.onPaint()}else{t.ics_dx=-t.ics_dx*0.1;t.ics_dy=-t.ics_dy*0.1}};var F=function(J){if(!t.isMDorTD){J=J?J:window.event;if(J.button==0){if(J.which||J.which==0||J.which==1){if(J.target==x.objHandler){I(J.pageX,J.pageY);t.renderNum=1}}}J.preventDefault()}if(w.lp.autoPlayHandler){clearTimeout(w.lp.autoPlayHandler)}};var f=function(J){if(!t.isMDorTD){J=J?J:window.event;J.preventDefault();if(t.renderNum>0){if(J.which||J.which==0||J.which==1){r(J.pageX,J.pageY)}}}};var C=function(J){if(!t.isMDorTD){J=J?J:window.event;J.preventDefault();if(t.renderNum>0){t.renderNum=-1}c.style.cursor="url(style/common.gif)"}};var G=function(K){if(!t.lockedwheel){K=K?K:window.event;var J=K.detail?K.detail*-1:K.wheelDelta/40;z.cf+=J>0?1:-1;x.onPaint();K.preventDefault()}};var b=function(J){var L=J;if(!t.isMDorTD){if(!L){L=window.event}L.preventDefault();var K=L.changedTouches;if(t.renderNum<=0&&K[0]){t.ini_x=K[0].pageX;t.ini_y=K[0].pageY;x.touchTarget=K[0].target;if(K[0].target==x.objHandler){I(K[0].pageX,K[0].pageY);t.renderNum=K[0].identifier}if(x.touchTarget){L=x.touchTarget;JJ=false;while(L&&L!=x.objHandler){if(L.onmouseover){L.onmouseover()}if(L.onmousedown&&!JJ){L.onmousedown();JJ=true}L=L.parentNode}}}}if(w.lp.autoPlayHandler){clearTimeout(w.lp.autoPlayHandler)}};var B=function(M){if(!t.isMDorTD){var L=M.changedTouches;if(t.renderNum>0){M.preventDefault();for(var K=0;K<L.length;K++){if(L[K].identifier==t.renderNum){r(L[K].pageX,L[K].pageY);break}}}}};var k=function(J){if(!t.isMDorTD){J.preventDefault();if(x.touchTarget){J=x.touchTarget;JJ=false;while(J&&J!=x.objHandler){if(J.onmouseout){J.onmouseout()}if(J.onmouseup&&!JJ){J.onmouseup();JJ=true}J=J.parentNode}}x.touchTarget=null;t.renderNum=-1}};var l=function(J){if(!t.isMDorTD){J.preventDefault();t.renderNum=-1}};var E=function(J){if(!t.isMDorTD){J.preventDefault();z.tf=z.cf}};var y=function(J){if(!t.isMDorTD){J.preventDefault();z.cf=z.tf/Math.sqrt(event.scale)}};var n=function(J){if(!t.isMDorTD){J.preventDefault()}};var A=function(J){t.keycode=J.keyCode};var s=function(J){t.keycode=0};var q=function(J){t.keycode=0};var o=function(){if(t.renderNum>-1){if(!t.mode){g(t.ics_dx,t.ics_dy);x.isRender=true}}if(t.renderNum==-1&&(t.ics_dx!=0||t.ics_dy!=0)){t.ics_dx=0.9*t.ics_dx;t.ics_dy=0.9*t.ics_dy;if(t.ics_dx*t.ics_dx+t.ics_dy*t.ics_dy<0.1){t.ics_dx=0;t.ics_dy=0}else{g(t.ics_dx,t.ics_dy);x.isRender=true}}if(t.keycode!=0){var K=t.speed;var J=K*(document.documentElement.clientWidth/1024);var L=K*(document.documentElement.clientHeight/768);switch(t.keycode){case 120:if(x.direction=="left"){g(parseFloat(J),0)}else{g(-parseFloat(J),0)}break;case 37:g(parseFloat(J),0);break;case 38:g(0,parseFloat(L));break;case 39:g(-parseFloat(J),0);break;case 40:g(0,-parseFloat(L));break;case 43:case 107:case 16:z.cf=z.cf-1;break;case 17:case 18:case 109:case 45:case 91:z.cf=z.cf+1;break;default:}x.isRender=true}if(x.isRender){x.isRender=false;x.onPaint()}setTimeout(function(){o()},20)};var v=function(){setTimeout(function(){x.setFullscreen(false)},10);setTimeout(function(){x.setFullscreen(false)},100)};this.objHandler=null;this.isFullScreen=false;this.isRender=false;this.focalLength=0;this.getFocalLength=function(){return z.vh*1/(2*Math.tan(Math.PI/ 180 * (z.cf /2)))};this.setViewerSize=function(J,K){if(x.isFullScreen){J=window.innerWidth;K=window.innerHeight}p.style.width=J+"px";p.style.height=K+"px";c.style.width=J+"px";c.style.height=K+"px";z.vw=J;z.vh=K;x.onPaint()};this.onPaint=function(){x.isRender=true;if(!x.isRender){return}x.isRender=false;u();var J=false;if(z.vw!=p.offsetWidth||z.vh!=p.offsetHeight){z.vw=parseInt(p.offsetWidth);z.vh=parseInt(p.offsetHeight);p.style.webkitTransformOriginX=z.vw/2+"px";p.style.webkitTransformOriginY=z.vh/2+"px";J=true}var K=Math.floor(x.getFocalLength());if(x.focalLength!=K){J=true;x.focalLength=K}if(J){p.style.webkitPerspective=K;if(i){i.style.webkitTransform="translate3d("+z.vw/2+"px,"+z.vh/2+"px,"+K+"px)"}}if(h){h.style.webkitTransform="rotateX("+Number(z.ct).toFixed(10)+"deg)  rotateY("+Number(-z.cp).toFixed(10)+"deg)"}};this.assignHandler=function(){var J;J=c;x.objHandler=J;v();setTimeout(function(){o()},10);setTimeout(function(){j();x.onPaint()},10);if(J[a6]){J[a6]("touchstart",b,false);J[a6]("touchmove",B,false);J[a6]("touchend",k,false);J[a6]("touchcancel",l,false);J[a6]("gesturestart",E,false);J[a6]("gesturechange",y,false);J[a6]("gestureend",n,false);J[a6]("mousedown",F,false);J[a6]("mousemove",f,false);d[a6]("mouseup",C,false);J[a6]("mousewheel",G,false);d[a6]("keydown",A,false);d[a6]("keyup",s,false);window[a6]("orientationchange",v,false);window[a6]("resize",j,false);window[a6]("blur",q,false)}};this.setFullscreen=function(L){if(this.isFullScreen!=L){this.isFullScreen=L;this.isRender=true}if(this.isFullScreen){m.style.position="absolute";var J=0;var K=0;var M=p;if(M.offsetParent){do{J+=M.offsetLeft;K+=M.offsetTop}while(M=M.offsetParent)}m.style.left=window.pageXOffset-J+"px";m.style.top=window.pageYOffset-K+"px"}else{m.style.position="relative";m.style.left="0px";m.style.top="0px"}j()};this.initDisplay=function(J){this.container=d[a0](J);m=d[a2]("div");m.id="sceneviewer";m.style.top="0px";m.style.left="0px";m.style.position="relative";m.style.zIndex="0";this.container[a3](m);p=d[a2]("div");p.style.top="0px";p.style.left="0px";p.style.width="100px";p.style.height="100px";p.style.overflow="hidden";p.style.position="absolute";p.style.zIndex="0";p.style.webkitUserSelect="none";m[a3](p);c=document.createElement("div");c.style.cursor="url(style/common.gif)";c.style.id="Hotspots";c.style.top="0px";c.style.left="0px";c.style.width="100px";c.style.height="100px";c.style.overflow="hidden";c.style.position="absolute";c.style.zIndex="10000";c.style.webkitUserSelect="none";m[a3](c)};this.initPano=function(){i=d[a2]("div");i.style.position="absolute";i.style.webkitUserSelect="none";i.style.webkitTransformStyle="preserve-3d";i.style.zIndex="100";i.id="divPanoview";p[a3](i);h=d[a2]("div");h.style.webkitTransformStyle="preserve-3d";h.style.webkitTransformOriginX="0";h.style.webkitTransformOriginY="0";h.style.position="absolute";h.style.webkitUserSelect="none";h.style.zIndex="100";i[a3](h);var J={container:"DivToolBar",cc:a,buttons:this.uiXml[a1]("toolbar"),player:this};w.lp.init({url:this.preUrl,container:h,cc:a,genNode:this.uiXml,imgurls:D.imgs,tb:J,type:D.type})};this.removeDivPanoview=function(){if(i){p.removeChild(i);h=null;i=null}};this.readXML=function(J){w.co.lo(J,this)};this.readConfigXml=function(K){this.removeDivPanoview();var M,L,J;var N=K.firstChild.firstChild;while(N){if(N.nodeName=="general"){this.uiXml=N}if(N.nodeName=="scene"){if(N[a5]("mode")!="standard"){t.mode=true}else{t.mode=false}t.bgColor=N[a5]("bgColor")||"#fff";D.type=N[a5]("type");p.style.backgroundColor=t.bgColor;this.preUrl=N[a1]("preview")[0][a5]("url")||"images/preview.jpg";this.direction=N[a5]("direction");this.isAutoPlay=N[a5]("initautoplay");t.speed=N[a5]("speed")||5;if(w.browser.result.equipment=="iphone"){t.speed=t.speed/4}M=N.firstChild;while(M){if(M.nodeName=="view"){L=M.firstChild;while(L){if(L.nodeName=="init"){J=L.getAttributeNode("pan");z.cp=Number(J?J.nodeValue:0);D.ip=z.cp;J=L.getAttributeNode("tilt");z.ct=Number(J?J.nodeValue:0);D.it=z.ct;J=L.getAttributeNode("fov");z.cf=Number(J?J.nodeValue:70);D.iz=z.cf}if(L.nodeName=="min"){J=L.getAttributeNode("pan");D.np=1*(J?J.nodeValue:0);J=L.getAttributeNode("tilt");D.nt=1*(J?J.nodeValue:-90);J=L.getAttributeNode("fov");D.nz=1*(J?J.nodeValue:5);if(D.nz<1e-8){D.nz=1e-8}}if(L.nodeName=="max"){J=L.getAttributeNode("pan");D.xp=1*(J?J.nodeValue:0);J=L.getAttributeNode("tilt");D.xt=1*(J?J.nodeValue:90);J=L.getAttributeNode("fov");D.xz=1*(J?J.nodeValue:120);if(D.xz>=180){D.xz=179.9}}L=L.nextSibling}}if(M.nodeName=="image"){if(window.browser.result.equipment=="pc"){L=M[a1]("pc")[0].firstChild}else{if(window.browser.result.equipment=="iphone"){L=M[a1]("mobile")[0].firstChild}else{if(window.browser.result.equipment=="ipad"){L=M[a1]("pc")[0].firstChild}}}while(L){if(L.nodeName=="size"){J=L.getAttributeNode("size")}if(L.nodeName=="cylinder"){J=L.getAttributeNode("url");D.imgs[0]=new String(J.nodeValue)}if(L.nodeName=="right"){J=L.getAttributeNode("url");D.imgs[0]=new String(J.nodeValue)}if(L.nodeName=="front"){J=L.getAttributeNode("url");D.imgs[1]=new String(J.nodeValue)}if(L.nodeName=="left"){J=L.getAttributeNode("url");D.imgs[2]=new String(J.nodeValue)}if(L.nodeName=="back"){J=L.getAttributeNode("url");D.imgs[3]=new String(J.nodeValue)}if(L.nodeName=="up"){J=L.getAttributeNode("url");D.imgs[4]=new String(J.nodeValue)}if(L.nodeName=="down"){J=L.getAttributeNode("url");D.imgs[5]=new String(J.nodeValue)}L=L.nextSibling}}M=M.nextSibling}}N=N.nextSibling}if(window.browser.result.browser=="safari"){this.initPano()}else{d[a0]("container").innerHTML='<div class="warning">safari only</div>'}};this.left=function(){t.keycode=37};this.right=function(){t.keycode=39};this.up=function(){t.keycode=38};this.down=function(){t.keycode=40};this.zoomin=function(){t.keycode=16};this.zoomout=function(){t.keycode=17};this.stop=function(){t.keycode=0};this.start=function(){t.keycode=120};this.reset=function(){z.cp=D.ip;z.ct=D.it;z.cf=D.iz;this.onPaint()};this.changemode=function(){t.mode=!t.mode};this.initDisplay(a);this.assignHandler()};